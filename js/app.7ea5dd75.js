(function(t){function e(e){for(var a,i,c=e[0],l=e[1],u=e[2],v=0,d=[];v<c.length;v++)i=c[v],Object.prototype.hasOwnProperty.call(r,i)&&r[i]&&d.push(r[i][0]),r[i]=0;for(a in l)Object.prototype.hasOwnProperty.call(l,a)&&(t[a]=l[a]);s&&s(e);while(d.length)d.shift()();return o.push.apply(o,u||[]),n()}function n(){for(var t,e=0;e<o.length;e++){for(var n=o[e],a=!0,c=1;c<n.length;c++){var l=n[c];0!==r[l]&&(a=!1)}a&&(o.splice(e--,1),t=i(i.s=n[0]))}return t}var a={},r={app:0},o=[];function i(e){if(a[e])return a[e].exports;var n=a[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,i),n.l=!0,n.exports}i.m=t,i.c=a,i.d=function(t,e,n){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},i.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var a in t)i.d(n,a,function(e){return t[e]}.bind(null,a));return n},i.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="/";var c=window["webpackJsonp"]=window["webpackJsonp"]||[],l=c.push.bind(c);c.push=e,c=c.slice();for(var u=0;u<c.length;u++)e(c[u]);var s=l;o.push([0,"chunk-vendors"]),n()})({0:function(t,e,n){t.exports=n("56d7")},"241d":function(t,e,n){},"2a00":function(t,e,n){},"56d7":function(t,e,n){"use strict";n.r(e);n("e260"),n("e6cf"),n("cca6"),n("a79d");var a=n("2b0e"),r=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("router-view")},o=[],i={name:"BachEditor",data:function(){return{}}},c=i,l=(n("5c0b"),n("2877")),u=Object(l["a"])(c,r,o,!1,null,null,null),s=u.exports,v=n("8c4f"),d=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("layout",{scopedSlots:t._u([{key:"default",fn:function(){return[n("editor"),n("player")]},proxy:!0},{key:"footer",fn:function(){return[n("controls")]},proxy:!0}])})},p=[],f=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-app",{attrs:{id:"inspire"}},[n("v-app-bar",{attrs:{app:"",dense:"","clipped-left":"","clipped-right":""}},[n("v-app-bar-nav-icon",{on:{click:function(e){t.left=!t.left}}}),n("v-app-bar-title",[n("logo")],1),n("v-spacer"),t._l(t.links,(function(e){return n("v-btn",{key:e.name,class:["font-weight-light"].concat(e.classes||[]),attrs:{href:e.href,target:e.target,icon:!!e.icon,text:""}},[e.icon?n("v-icon",[t._v(t._s(e.icon))]):n("span",[t._v(t._s(e.name))])],1)})),n("preferences"),n("v-btn",{attrs:{icon:""},on:{click:function(e){t.right=!t.right}}},[n("v-icon",[t._v("mdi-information-outline")])],1)],2),n("v-navigation-drawer",{attrs:{app:"",clipped:"","hide-overlay":"",width:"300",color:t.$vuetify.breakpoint.mobile?"grey darken-4":"transparent"},model:{value:t.left,callback:function(e){t.left=e},expression:"left"}},[n("tracks")],1),n("v-navigation-drawer",{attrs:{app:"",clipped:"",right:"",stateless:t.$vuetify.breakpoint.smAndUp,color:t.$vuetify.breakpoint.smAndUp?"transparent":"grey darken-4"},model:{value:t.right,callback:function(e){t.right=e},expression:"right"}},[n("info")],1),n("v-main",[n("v-container",{attrs:{fluid:""}},[t._t("default")],2)],1),n("v-footer",{attrs:{app:"",inset:"",height:"72",color:"rgb(12, 12, 12)",elevation:"12"}},[t._t("footer")],2),n("notify")],1)},b=[],m=function(){var t=this,e=t.$createElement;t._self._c;return t._m(0)},h=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"logo"},[n("span",{staticClass:"brand text-h4 primary--text"},[t._v(" bach ")]),n("span",{staticClass:"text--grey text-body-1 font-weight-thin hidden-xs-only ml-2"},[t._v(" editor ")])])}],g={},j=Object(l["a"])(g,m,h,!1,null,null,null),O=j.exports,y=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"tracks-drawer"},[n("div",[n("v-list",{attrs:{shaped:""}},[n("v-list-item",[n("v-list-item-content",[n("v-list-item-title",{staticClass:"title"},[t._v(" Tracks ")]),n("v-list-item-subtitle",[t._v(" "+t._s(t.count)+" local tracks ")])],1),n("v-list-item-action",[n("create")],1)],1),n("v-divider"),t._l(t.all,(function(e){return n("v-list-item",{key:e.id,attrs:{"input-value":t.active(e),link:"","two-line":""},on:{click:function(n){return t.open(e)}}},[n("v-list-item-content",[n("v-list-item-title",[t._v(t._s(e.name))]),n("v-list-item-subtitle",[t._v(t._s(t._f("when")(e.updated)))])],1),n("v-list-item-action",[n("remove",{attrs:{track:e}})],1)],1)}))],2)],1),n("v-footer",{attrs:{fixed:"",inset:"",height:"72",color:t.$vuetify.breakpoint.mobile?"grey darken-4":"rgb(12, 12, 12)"}},[n("v-list-item",[n("v-list-item-content",[n("v-row",{attrs:{"no-gutters":"",justify:"center"}},[n("v-col",{staticClass:"text-center"},[n("create",{attrs:{btn:{color:"white",fab:!1,icon:!0}}})],1),n("v-col",{staticClass:"text-center"},[n("nuke")],1),n("v-col",{staticClass:"text-center"},[n("archive")],1)],1)],1)],1)],1)],1)},_=[],x=n("1da1"),k=n("ade3"),w=n("5530"),V=n("3835"),C=(n("96cf"),n("13d5"),n("4fad"),n("b64b"),n("b0c0"),n("7db0"),n("07ac"),n("d3b7"),n("b85c")),E=(n("a15b"),n("102f")),S=n("a6f4"),T=n("7bbe"),I={open:!1,text:"",color:"primary accent-4",icon:"mdi-tick-circle",timeout:2500,attrs:null},$=Object(S["E"])(I.open),D=Object(S["E"])(I.text),A=Object(S["E"])(I.color),L=Object(S["E"])(I.icon),P=Object(S["E"])(I.timeout),B=Object(S["E"])(I.attrs),R=Object(T["r"])((function(t){return F(Object(w["a"])(Object(w["a"])({},t),{},{color:"success",attrs:{multiLine:!0}}))}),250),M=Object(T["r"])((function(t){return F(Object(w["a"])(Object(w["a"])({},t),{},{color:"error",icon:"alert-circle",attrs:{vertical:!0}}))}),250);function F(t){N(),Object(T["m"])($,!0),Object(T["m"])(D,t.text),Object(T["m"])(A,t.color||A.value),Object(T["m"])(L,t.icon||L.value),Object(T["m"])(P,t.timeout||P.value),Object(T["m"])(B,t.attrs||B.value)}function N(){Object(T["m"])($,I.open),Object(T["m"])(D,I.text),Object(T["m"])(A,I.color),Object(T["m"])(L,I.icon),Object(T["m"])(P,I.timeout),Object(T["m"])(B,I.attrs)}function z(t){var e,n=new E["Sections"](t),a=Object(C["a"])(q);try{for(a.s();!(e=a.n()).done;){var r=e.value,o=r.validator(n);if(!o)return M({text:r.message,timeout:5e3}),!1}}catch(i){a.e(i)}finally{a.f()}return!0}var U={parts:E["MUSICAL_ELEMENTS"]},q=[{ref:"musical",message:"Each beat must contain at least one musical element (".concat(U.parts.join(", "),")"),validator:function(t){return t.musical}},{ref:"usable",message:"Unsupported scale or chord type",validator:function(t){try{return!!t.all}catch(e){return!1}}}],J=n("2909"),G=n("53ca"),Y=(n("4de4"),n("99af"),n("16ce")),W=Object(S["E"])(!1),H=Object(S["E"])(null),Q=Object(S["E"])(null),Z=Object(S["E"])(""),K=Object(S["E"])(""),X=Object(S["E"])("mdi-alert-box"),tt=Object(S["E"])(!0),et=Object(Y["c"])("bach-editor-warn-settings",{"selecting-dirty":!0,"removing-dirty":!0,"removing-one":!0}),nt=Object(T["l"])((function(t){return!et.value[t||Z.value]})),at=Object(T["l"])((function(t){return et.value[t||Z.value]}));function rt(t){Object(T["m"])(et,Object(w["a"])(Object(w["a"])({},et.value),{},Object(k["a"])({},t||Z.value,!1)))}function ot(t){Object(T["m"])(et,Object(w["a"])(Object(w["a"])({},et.value),t))}function it(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];st(),Object(T["m"])(W,e),Object(T["m"])(H,t.then),Object(T["m"])(Q,t.deny),Object(T["m"])(K,t.text),Object(T["m"])(X,t.icon||X.value),Object(T["m"])(Z,t.prob||t.problem),Object(T["m"])(tt,t.ignorable||vt[t.problem].ignorable)}function ct(t){var e=t.problem||Z.value,n=vt[e];if("object"!==Object(G["a"])(n))throw Error("Cannot warn, provided unsupported problem scenario key: ".concat(e));var a=at(e).value;it(Object(w["a"])(Object(w["a"])({},n),t),a),n.ignorable&&!a&&lt()}function lt(t){"function"===typeof H.value&&H.value(t),Object(T["m"])(W,!1)}function ut(t){"function"===typeof Q.value&&Q.value(t),Object(T["m"])(W,!1)}function st(){Object(T["m"])(H,null),Object(T["m"])(Z,""),Object(T["m"])(K,""),Object(T["m"])(X,"mdi-alert-box")}var vt={"selecting-dirty":{text:"You will lose unsaved changes if you change tracks!",label:"Switching tracks with unsaved changes",ignorable:!0},"removing-dirty":{text:"You will lose unsaved changes if you delete this track!",label:"Deleting a track with unsaved changes",ignorable:!0},"removing-one":{text:"You are about to permanently delete this track.",label:"Deleting a track (always)",ignorable:!0},"nuking-all":{text:"You are about to delete every track except the one you have selected!",ignorable:!1}},dt=Object.entries(vt).filter((function(t){return t[1].ignorable})).reduce((function(t,e){var n=Object(V["a"])(e,2),a=n[0],r=n[1];return[].concat(Object(J["a"])(t),[Object(w["a"])(Object(w["a"])({},r),{},{key:a})])}),[]),pt="@Meter = 4|4\n@Tempo = 130\n\n!Play [\n  1 -> {\n    Scale('E lydian')\n    Chord('E')\n  }\n  1/2 -> Chord('G#min')\n  1/2 -> Chord('B')\n]\n",ft=Object(S["E"])(""),bt=Object(S["E"])(!1),mt=Object(S["E"])(0),ht=Object(S["a"])((function(){return ft.value})),gt=Object(S["a"])((function(){return Object(E["compose"])(Lt.value.source)})),jt=Object(S["a"])((function(){return JSON.stringify(gt.value,null,2)})),Ot=Object(S["a"])((function(){return Lt.value?Lt.value.name:""})),yt=function(t){try{var e=Object(E["compose"])(t);return z(e)}catch(n){M({text:"Track compilation failed!"}),console.error(n)}};function _t(t){return new Promise((function(e,n){var a=function(){kt(t,!0),e(t)};bt.value?ct({problem:"selecting-dirty",then:function(){return a()},deny:function(){return n()}}):a()}))}function xt(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=yt(ft.value);if(!e)throw Error("Failed to commit changes, invalid bach");Wt({source:ft.value}),Object(T["m"])(ft,t.source||ft.value),Object(T["m"])(bt,!1)}function kt(t,e){Object(T["m"])(ft,t),Object(T["m"])(bt,!e)}function wt(){if(Vt.isSupported){var t=[ht.value,jt.value],e=t[mt.value];Vt.copy(e),R({text:"Copied code to clipboard!"})}else M({text:"Copying not supported or permitted on device!"})}var Vt=Object(Y["a"])(),Ct=n("9224"),Et=n("e1bd"),St=Object(Y["c"])("bach-editor-version",Ct.version),Tt=Object(Y["c"])("bach-editor-tracks",{}),It=Object(Y["c"])("bach-editor-tracks-context",{current:null}),$t=function(){return Object(Et["a"])(6)},Dt=Object(S["a"])((function(){var t=Object(T["d"])(Tt);return Object.entries(t).sort((function(t,e){return e[1].created-t[1].created})).reduce((function(t,e){var n=Object(V["a"])(e,2),a=n[0],r=n[1];return Object(w["a"])(Object(w["a"])({},t),{},Object(k["a"])({},a,r))}),{})})),At=Object(S["a"])((function(){return Bt(Object(T["d"])(It).current).value})),Lt=Object(S["a"])((function(){return Object(T["d"])(At)||ee()})),Pt=Object(T["l"])((function(t){var e=t.id;return e===Object(T["d"])(Lt).id})),Bt=Object(T["l"])((function(t){return Object(T["d"])(Tt)[t]})),Rt=Object(S["a"])((function(){return Object.keys(Object(T["d"])(Tt)).length})),Mt=(Object(S["a"])((function(){return Object(T["d"])(Rt)>0})),Object(S["a"])((function(){return Object(T["d"])(Rt)>1})));function Ft(t){var e=t.id;Object(T["m"])(It,{current:e})}function Nt(t){if("string"===typeof t){var e=Object(T["d"])(Tt),n=e[t];return n}return t}function zt(){var t=Object(T["d"])(At);if(!t)return Jt(ee());_t(t.source)}function Ut(t){return qt.apply(this,arguments)}function qt(){return qt=Object(x["a"])(regeneratorRuntime.mark((function t(e){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(n=Nt(e),!n){t.next=12;break}return t.prev=2,t.next=5,_t(n.source);case 5:Ft(n),t.next=10;break;case 8:t.prev=8,t.t0=t["catch"](2);case 10:t.next=13;break;case 12:console.error("Track not found",e);case 13:case"end":return t.stop()}}),t,null,[[2,8]])}))),qt.apply(this,arguments)}function Jt(t){var e=t.name,n=t.source,a=ee(),r={id:$t(),name:e||a.name,source:n||a.source,created:Date.now()};Yt(r),Ut(r)}function Gt(t){var e=Nt(t),n=Object(T["d"])(Dt);delete n[e.id],Object(T["d"])(At).id===e.id&&Ht(e),Object(T["m"])(Tt,n)}function Yt(t){var e=t.id||$t(),n=Object(T["d"])(Bt(e)),a=Object(w["a"])(Object(w["a"])(Object(w["a"])({id:e},n),t),{},{updated:Date.now()});Object(T["m"])(Tt,Object(w["a"])(Object(w["a"])({},Object(T["d"])(Dt)),{},Object(k["a"])({},e,a)))}function Wt(t){Yt(Object(w["a"])({id:Object(T["d"])(At).id},t))}function Ht(t){var e=Nt(t),n=Object.values(Object(T["d"])(Dt)).sort((function(t,e){return e.updated-t.updated})).find((function(t){var n=t.id;return e.id!==n}));Ft(n)}function Qt(){return Zt.apply(this,arguments)}function Zt(){return Zt=Object(x["a"])(regeneratorRuntime.mark((function t(){var e;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:e=Object(T["d"])(At),Object(T["m"])(Tt,Object(k["a"])({},e.id,e));case 2:case"end":return t.stop()}}),t)}))),Zt.apply(this,arguments)}function Kt(t){return Xt.apply(this,arguments)}function Xt(){return Xt=Object(x["a"])(regeneratorRuntime.mark((function t(e){var n,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!(e instanceof File)){t.next=6;break}return t.next=3,e.text();case 3:t.t0=t.sent,t.next=7;break;case 6:t.t0=null;case 7:if(n=t.t0,!n){t.next=15;break}return a=JSON.parse(n),Object(T["m"])(Tt,a.store),Object(T["m"])(It,a.context),t.abrupt("return",a);case 15:throw Error("Invalid or missing archive file");case 16:case"end":return t.stop()}}),t)}))),Xt.apply(this,arguments)}function te(){return{store:Object(T["d"])(Tt),context:Object(T["d"])(It),version:Object(T["d"])(St),created:Date.now()}}var ee=function(){return{id:$t(),name:"Starter Track",source:pt}},ne=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-dialog",{attrs:{"max-width":"400"},scopedSlots:t._u([{key:"activator",fn:function(e){return[n("v-tooltip",{attrs:{top:"","open-delay":"500"},scopedSlots:t._u([{key:"activator",fn:function(a){return[n("div",t._g(t._b({},"div",a.attrs,!1),a.on),[n("v-btn",t._g(t._b({attrs:{fab:"",small:"",color:t.btn.color||"secondary"}},"v-btn",Object.assign({},t.btn,e.attrs),!1),e.on),[n("v-icon",[t._v("mdi-plus")])],1)],1)]}}],null,!0)},[n("span",[t._v("Create new track")])])]}}]),model:{value:t.open,callback:function(e){t.open=e},expression:"open"}},[n("v-form",{on:{submit:function(e){return e.preventDefault(),t.save(e)}}},[n("v-card",[n("v-toolbar",[n("v-toolbar-title",[t._v("New Track")])],1),n("v-card-text",[n("v-text-field",{staticClass:"mt-8",attrs:{label:"Name",outlined:"",counter:"",maxlength:"32",required:"",autofocus:""},model:{value:t.inputs.name,callback:function(e){t.$set(t.inputs,"name",e)},expression:"inputs.name"}})],1),n("v-divider"),n("v-card-actions",[n("v-spacer"),n("v-btn",{attrs:{text:""},on:{click:function(e){t.open=!1}}},[t._v(" Cancel ")]),n("v-btn",{attrs:{text:"",color:"primary"},on:{click:t.save}},[t._v(" Create ")])],1)],1)],1)],1)},ae=[],re={props:{btn:{type:Object,required:!1,default:function(){return{}}}},data:function(){return{open:!1,inputs:{name:""}}},methods:{save:function(){Jt(this.inputs),this.open=!1}},watch:{open:function(t){t&&(this.inputs.name="")}}},oe=re,ie=n("6544"),ce=n.n(ie),le=n("8336"),ue=n("b0af"),se=n("99d9"),ve=n("169a"),de=n("ce7e"),pe=n("4bd4"),fe=n("132d"),be=n("2fa4"),me=n("8654"),he=n("71d9"),ge=n("2a7f"),je=n("3a2f"),Oe=Object(l["a"])(oe,ne,ae,!1,null,null,null),ye=Oe.exports;ce()(Oe,{VBtn:le["a"],VCard:ue["a"],VCardActions:se["a"],VCardText:se["c"],VDialog:ve["a"],VDivider:de["a"],VForm:pe["a"],VIcon:fe["a"],VSpacer:be["a"],VTextField:me["a"],VToolbar:he["a"],VToolbarTitle:ge["a"],VTooltip:je["a"]});var _e=function(){var t=this,e=t.$createElement,n=t._self._c||e;return t.multiple?n("v-btn",{attrs:{icon:"",small:""},on:{click:function(e){return e.stopPropagation(),t.remove(e)}}},[n("v-icon",[t._v("mdi-close")])],1):t._e()},xe=[],ke={props:{track:{type:Object,required:!0}},computed:{multiple:function(){return Object(T["d"])(Mt)}},methods:{remove:function(){var t=this;Object(T["d"])(bt)&&Object(T["d"])(Pt(this.track))?ct({problem:"removing-dirty",then:function(){return Gt(t.track)}}):ct({problem:"removing-one",then:function(){return Gt(t.track)}})}}},we=ke,Ve=Object(l["a"])(we,_e,xe,!1,null,null,null),Ce=Ve.exports;ce()(Ve,{VBtn:le["a"],VIcon:fe["a"]});var Ee=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-menu",{attrs:{top:"","nudge-top":"40"},scopedSlots:t._u([{key:"activator",fn:function(e){return[n("div",t._g(t._b({},"div",e.attrs,!1),e.on),[n("v-tooltip",{attrs:{top:"","open-delay":"500"},scopedSlots:t._u([{key:"activator",fn:function(e){return[n("v-btn",t._g(t._b({attrs:{icon:""}},"v-btn",e.attrs,!1),e.on),[n("v-icon",[t._v("mdi-archive")])],1),n("restore",{attrs:{show:t.restoring},on:{"update:show":function(e){t.restoring=e}}})]}}],null,!0)},[n("span",[t._v("Manage track archives")])])],1)]}}]),model:{value:t.open,callback:function(e){t.open=e},expression:"open"}},[n("v-list",{attrs:{dense:""}},[n("v-list-item",{on:{click:function(e){return e.stopPropagation(),t.restore(e)}}},[n("v-list-item-avatar",[n("v-icon",[t._v("mdi-upload")])],1),n("v-list-item-content",[t._v(" Import track archive ")])],1),n("create",{on:{done:function(e){t.open=!1}}})],1)],1)},Se=[],Te=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-list-item",{on:{click:function(e){return e.stopPropagation(),t.save(e)}}},[n("v-list-item-avatar",[n("v-icon",[t._v("mdi-download")])],1),n("v-list-item-content",[t._v(" Export track archive ")]),n("a",{ref:"download",staticStyle:{display:"none"}})],1)},Ie=[],$e={methods:{save:function(){var t=this.$refs.download,e=te(),n=encodeURIComponent(JSON.stringify(e)),a="data:text/json;charset=utf-8,".concat(n),r="bach-editor-track-archive-".concat(e.created,".json");t.setAttribute("href",a),t.setAttribute("download",r),t.click(),this.$emit("done")}}},De=$e,Ae=n("da13"),Le=n("8270"),Pe=n("5d23"),Be=Object(l["a"])(De,Te,Ie,!1,null,null,null),Re=Be.exports;ce()(Be,{VIcon:fe["a"],VListItem:Ae["a"],VListItemAvatar:Le["a"],VListItemContent:Pe["a"]});var Me=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-dialog",{attrs:{"max-width":"400"},model:{value:t.open,callback:function(e){t.open=e},expression:"open"}},[n("v-form",{on:{submit:function(e){return e.preventDefault(),t.load(e)}},model:{value:t.valid,callback:function(e){t.valid=e},expression:"valid"}},[n("v-card",[n("v-toolbar",[n("v-toolbar-title",[t._v("Import Archive")])],1),n("v-card-text",[n("v-file-input",{staticClass:"mb-3",attrs:{rules:t.rules,accept:"application/json",label:"Track archive file (.json)","prepend-icon":"mdi-archive","show-size":"",required:""},model:{value:t.inputs.file,callback:function(e){t.$set(t.inputs,"file",e)},expression:"inputs.file"}}),n("v-sheet",{staticClass:"pa-3",attrs:{outlined:"",elevation:"4",color:"grey darken-3"}},[n("div",{staticClass:"mb-2"},[n("v-icon",{staticClass:"pr-2",attrs:{small:"",color:"warning"}},[t._v(" mdi-alert ")]),n("span",{staticClass:"text-subtitle-1 font-weight-bold"},[t._v("Warning")])],1),n("div",[t._v(" Importing an archive will replace your current collection of tracks unless you have already created an export with your latest changes! ")])])],1),n("v-divider"),n("v-card-actions",[n("v-spacer"),n("v-btn",{attrs:{text:""},on:{click:function(e){t.open=!1}}},[t._v(" Cancel ")]),n("v-btn",{attrs:{text:"",color:"primary",disabled:!t.valid||!t.inputs.file},on:{click:t.load}},[t._v(" Import ")])],1)],1)],1)],1)},Fe=[],Ne={props:{show:{type:Boolean,required:!1}},data:function(){return{valid:!1,inputs:{file:null},rules:[function(t){return!t||t.size<5e6||"Archive file must be less than 5MB!"}]}},computed:{open:{get:function(){return this.show},set:function(t){this.$emit("update:show",t)}}},methods:{load:function(){var t=this;return Object(x["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Kt(t.inputs.file);case 3:R({text:"Successfully imported track archive!"}),t.open=!1,e.next=10;break;case 7:e.prev=7,e.t0=e["catch"](0),M({text:"Failed to restore archive file due to invalid JSON data."});case 10:case"end":return e.stop()}}),e,null,[[0,7]])})))()}},watch:{open:function(t){t&&(this.inputs.file=null)}}},ze=Ne,Ue=n("23a7"),qe=n("8dd9"),Je=Object(l["a"])(ze,Me,Fe,!1,null,null,null),Ge=Je.exports;ce()(Je,{VBtn:le["a"],VCard:ue["a"],VCardActions:se["a"],VCardText:se["c"],VDialog:ve["a"],VDivider:de["a"],VFileInput:Ue["a"],VForm:pe["a"],VIcon:fe["a"],VSheet:qe["a"],VSpacer:be["a"],VToolbar:he["a"],VToolbarTitle:ge["a"]});var Ye={components:{Create:Re,Restore:Ge},data:function(){return{open:!1,restoring:!1}},methods:{restore:function(){this.restoring=!0,this.open=!1}}},We=Ye,He=n("8860"),Qe=n("e449"),Ze=Object(l["a"])(We,Ee,Se,!1,null,null,null),Ke=Ze.exports;ce()(Ze,{VBtn:le["a"],VIcon:fe["a"],VList:He["a"],VListItem:Ae["a"],VListItemAvatar:Le["a"],VListItemContent:Pe["a"],VMenu:Qe["a"],VTooltip:je["a"]});var Xe=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-tooltip",{attrs:{top:"","open-delay":"500"},scopedSlots:t._u([{key:"activator",fn:function(e){var a=e.on,r=e.attrs;return[n("v-btn",t._g(t._b({attrs:{icon:"",disabled:!t.enabled},on:{click:t.click}},"v-btn",r,!1),a),[n("v-icon",[t._v("mdi-delete-outline")])],1)]}}])},[n("span",[t._v("Delete all tracks")])])},tn=[],en={computed:{enabled:function(){return Mt.value}},methods:{click:function(){ct({problem:"nuking-all",then:function(){return Qt()}})}}},nn=en,an=Object(l["a"])(nn,Xe,tn,!1,null,null,null),rn=an.exports;ce()(an,{VBtn:le["a"],VIcon:fe["a"],VTooltip:je["a"]});var on={components:{Create:ye,Remove:Ce,Archive:Ke,Nuke:rn},computed:{all:function(){return Object(T["d"])(Dt)},count:function(){return Object(T["d"])(Rt)},multiple:function(){return Object(T["d"])(Mt)}},methods:{open:Ut,active:function(t){return Object(T["d"])(Pt(t))}}},cn=on,ln=(n("8df5"),n("62ad")),un=n("553a"),sn=n("1800"),vn=n("0fd9"),dn=Object(l["a"])(cn,y,_,!1,null,"6e526a8e",null),pn=dn.exports;ce()(dn,{VCol:ln["a"],VDivider:de["a"],VFooter:un["a"],VList:He["a"],VListItem:Ae["a"],VListItemAction:sn["a"],VListItemContent:Pe["a"],VListItemSubtitle:Pe["b"],VListItemTitle:Pe["c"],VRow:vn["a"]});var fn=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-list",[n("v-list-item",[n("v-list-item-content",[n("v-list-item-title",{staticClass:"title"},[t._v(" Information ")]),n("v-list-item-subtitle",[t._v(" Useful track data ")])],1),n("v-list-item-action",[n("v-btn",{attrs:{icon:""},on:{click:function(e){t.open=!1}}},[n("v-icon",[t._v("mdi-close")])],1)],1)],1),n("v-divider"),n("v-expansion-panels",{staticClass:"mb-6",attrs:{accordion:"",multiple:""},model:{value:t.panel,callback:function(e){t.panel=e},expression:"panel"}},t._l(t.metrics,(function(e,a){return n("v-expansion-panel",{key:a,staticStyle:{background:"transparent"}},[n("v-expansion-panel-header",{attrs:{"expand-icon":"mdi-menu-down"}},[n("span",{staticClass:"text-capitalize"},[t._v(t._s(a))])]),n("v-expansion-panel-content",[n("v-list",{attrs:{subheader:"","two-line":""}},t._l(e,(function(e,a){return n("v-list-item",{key:a},[n("v-list-item-content",[n("v-list-item-title",{domProps:{textContent:t._s(t.pretty(e))}}),n("v-list-item-subtitle",{domProps:{textContent:t._s(e.name)}})],1),n("v-list-item-action",[n("v-btn",{attrs:{icon:""},on:{click:function(n){return t.copy(e)}}},[n("v-icon",{attrs:{small:""}},[t._v("mdi-clipboard-text-play")])],1)],1)],1)})),1)],1)],1)})),1)],1)},bn=[],mn=(n("d81d"),n("5319"),n("ac1f"),n("2392")),hn=n("5e54"),gn=n("772f"),jn=Object(S["E"])({}),On=Object(S["E"])({}),yn=Object(S["E"])(0),_n=Object(S["E"])(null),xn=Object(S["E"])(null),kn=Object(S["E"])(Date.now()),wn=Object(Y["c"])("bach-editor-player-settings",{volume:0,muted:!1,loop:!0,follow:!0,coder:!0}),Vn=Object(S["a"])((function(){return new E["Sections"](Lt.value.source)})),Cn=Object(S["a"])((function(){return Object(T["d"])(Vn).all||[]})),En=(Object(S["a"])((function(){return Object(T["d"])(Vn).measures||[]})),Object(S["a"])((function(){return Object(T["d"])(Vn).durations||{}}))),Sn=Object(S["a"])((function(){return Object(T["d"])(Vn).source.headers||{}})),Tn=Object(S["a"])((function(){return Object(T["d"])(jn).playing})),In=Object(T["l"])((function(t){return Object(T["d"])(En).cast(t,{as:"second"})})),$n=Object(T["r"])((function(t){return Object(T["m"])(wn,Object(w["a"])(Object(w["a"])({},Object(T["d"])(wn)),t))}),8),Dn=Object(T["l"])((function(t){return Object.keys(t.parts).sort((function(t,e){return E["MUSICAL_ELEMENTS"].indexOf(t)-E["MUSICAL_ELEMENTS"].indexOf(e)}))[0]})),An=Object(Y["b"])((function(){if(Tn.value){var t=jn.value.completion;t<=1?(xn.value=100*t,_n.value=jn.value.metronome):(xn.value=0,_n.value=0,An.pause())}}),{immediate:!1});function Ln(t){return Pn.apply(this,arguments)}function Pn(){return Pn=Object(x["a"])(regeneratorRuntime.mark((function t(e){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,hn["b"]();case 2:jn.value=new mn["Gig"]({source:e,loop:wn.value.loop}),jn.value.on("beat:play",(function(){var t=jn.value,e=t.sections,n=t.cursor,a=e[n.section];On.value=a,yn.value=n.section,kn.value=Date.now(),Rn(a),An.resume()})),jn.value.on("stop",(function(){return Nn()})),Bn();case 6:case"end":return t.stop()}}),t)}))),Pn.apply(this,arguments)}function Bn(){jn.value.play(),An.resume()}function Rn(t){var e=Gn(t,Dn(t).value),n=In(t.duration).value;return hn["b"]().then((function(){Qn.triggerAttackRelease(e,n)})),Qn}function Mn(){jn.value.source&&jn.value.kill(),An.pause(),Nn()}function Fn(){Nn(),jn.value.kill(),jn.value.play()}function Nn(){jn.value={},On.value={},yn.value=0,xn.value=null,_n.value=null}function zn(){Tn.value?Mn():jn.value.source?Fn():Ln(gt.value)}function Un(t){var e=Math.max(Zn.min,Math.min(Zn.max,t)),n=e>Zn.min;n?($n({volume:t,muted:!n}),Qn.volume.value=e):Jn()}function qn(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];$n({loop:t}),jn.value.loops=t}function Jn(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];$n({muted:t}),Qn.volume.value=t?-1e3:wn.value.volume}function Gn(t,e){var n=t.parts[e],a=n?n.notes:[],r=Array.isArray(a)?a:[a];return r.map((function(t){return"".concat(t,"2")}))}function Yn(t){var e=t.name.replace(/#/,"s"),n="".concat(e,".mp3");return n}Object(S["R"])(Lt,(function(t,e){jn.value&&t&&e&&t.id!==e.id&&Mn()}));var Wn=["Ab2","A2","Bb2","B2","C2","Db2","D2","Eb2","E2","F2","Gb2","G2"].map(gn["a"]),Hn=Wn.reduce((function(t,e){return Object(w["a"])(Object(w["a"])({},t),{},Object(k["a"])({},e.name,Yn(e)))}),{}),Qn=new hn["a"]({release:1,urls:Hn,baseUrl:"/bach-editor/audio/piano/"}).toDestination(),Zn={min:-24,max:4},Kn=Object(S["E"])(!1),Xn=Object(S["E"])(!1),ta={data:function(){return{panel:[1,1,0]}},computed:{track:function(){return Object(T["d"])(Lt)},headers:function(){return Object(T["d"])(Sn)},open:{get:function(){return Object(T["d"])(Xn)},set:function(t){return Object(T["m"])(Xn,t)}},metrics:function(){return{general:[{name:"Created",filter:"when",value:this.track.created},{name:"Updated",filter:"when",value:this.track.updated},{name:"ID",value:this.track.id}],timing:[{name:"Meter",header:"meter",filter:"meter"},{name:"Tempo",header:"tempo",filter:""}],units:[{name:"beat unit",header:"beat-unit",filter:"fractionize"},{name:"pulse beat",header:"pulse-beat",filter:"fractionize"},{name:"beat units in bar",header:"beat-units-per-measure",filter:""},{name:"pulse beats in bar",header:"pulse-beats-per-measure",filter:""},{name:"ms per beat unit",header:"ms-per-beat-unit",filter:"numeric"},{name:"sec. per beat unit",value:Object(T["d"])(En).cast(Object(T["d"])(En).time.beat,{is:"ms",as:"second"}),filter:"numeric"},{name:"ms per pulse beat",header:"ms-per-pulse-beat",filter:"numeric"},{name:"sec. per pulse beat",value:Object(T["d"])(En).cast(Object(T["d"])(En).time.pulse,{is:"ms",as:"second"}),filter:"numeric"},{name:"ms per bar",value:Object(T["d"])(En).cast(Object(T["d"])(En).bar.pulse,{as:"ms"}),filter:"numeric"},{name:"seconds per bar",value:Object(T["d"])(En).cast(Object(T["d"])(En).bar.beat,{is:"beat",as:"second"}),filter:"numeric"}],totals:[{name:"total bars",header:"total-beats",filter:"fractionize"},{name:"total beat units",header:"total-beat-units",filter:""},{name:"total pulse beats",header:"total-pulse-beats",filter:""},{name:"total ms",value:Object(T["d"])(En).cast(Object(T["d"])(En).total,{as:"ms"}),filter:"numeric"},{name:"total seconds",value:Object(T["d"])(En).cast(Object(T["d"])(En).total,{as:"second"}),filter:"numeric"}]}}},methods:{valueOf:function(t){return t.value||this.headers[t.header]},pretty:function(t){var e=this.valueOf(t);return t.filter?this.$options.filters[t.filter](e):e},copy:function(t){Vt.isSupported&&Vt.copy(this.valueOf(t))}}},ea=ta,na=n("cd55"),aa=n("49e2"),ra=n("c865"),oa=n("0393"),ia=Object(l["a"])(ea,fn,bn,!1,null,null,null),ca=ia.exports;ce()(ia,{VBtn:le["a"],VDivider:de["a"],VExpansionPanel:na["a"],VExpansionPanelContent:aa["a"],VExpansionPanelHeader:ra["a"],VExpansionPanels:oa["a"],VIcon:fe["a"],VList:He["a"],VListItem:Ae["a"],VListItemAction:sn["a"],VListItemContent:Pe["a"],VListItemSubtitle:Pe["b"],VListItemTitle:Pe["c"]});var la=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-dialog",{attrs:{"max-width":"600"},scopedSlots:t._u([{key:"activator",fn:function(e){var a=e.on,r=e.attrs;return[n("v-btn",t._g(t._b({attrs:{icon:""}},"v-btn",r,!1),a),[n("v-icon",[t._v(t._s(t.icon))])],1)]}}]),model:{value:t.open,callback:function(e){t.open=e},expression:"open"}},[n("v-card",[n("v-toolbar",[n("v-toolbar-title",[n("v-icon",{staticClass:"mr-3"},[t._v(" "+t._s(t.icon)+" ")]),n("span",[t._v("Change Your Preferences")])],1)],1),n("v-card-text",[n("v-row",{staticClass:"mt-3"},[n("v-col",[n("span",{staticClass:"text-subtitle-1"},[t._v("Player")]),n("v-switch",{attrs:{label:"Loop track forever","hide-details":""},model:{value:t.loop,callback:function(e){t.loop=e},expression:"loop"}}),n("v-switch",{attrs:{label:"Scroll with music","hide-details":""},model:{value:t.follow,callback:function(e){t.follow=e},expression:"follow"}}),n("v-switch",{attrs:{label:"Scroll to code on stop","hide-details":""},model:{value:t.coder,callback:function(e){t.coder=e},expression:"coder"}})],1),n("v-col",[n("span",{staticClass:"text-subtitle-1"},[t._v("Warnings")]),t._l(t.scenarios,(function(e,a){return n("v-switch",{key:a,attrs:{"input-value":t.concerned(e.key).value,label:e.label,"hide-details":""},on:{change:function(n){var a;return t.warns((a={},a[e.key]=n,a))}}})}))],2)],1)],1),n("v-divider"),n("v-card-actions",[n("v-spacer"),n("v-btn",{attrs:{text:""},on:{click:function(e){t.open=!1}}},[t._v(" Close ")])],1)],1)],1)},ua=[],sa={props:{icon:{type:String,required:!1,default:"mdi-account-cog"}},data:function(){return{open:!1}},computed:{scenarios:function(){return dt},loop:{get:function(){return wn.value.loop},set:function(t){return qn(t)}},follow:{get:function(){return wn.value.follow},set:function(t){return $n({follow:t})}},coder:{get:function(){return wn.value.coder},set:function(t){return $n({coder:t})}}},methods:{concerned:at,warns:ot}},va=sa,da=n("b73d"),pa=Object(l["a"])(va,la,ua,!1,null,null,null),fa=pa.exports;ce()(pa,{VBtn:le["a"],VCard:ue["a"],VCardActions:se["a"],VCardText:se["c"],VCol:ln["a"],VDialog:ve["a"],VDivider:de["a"],VIcon:fe["a"],VRow:vn["a"],VSpacer:be["a"],VSwitch:da["a"],VToolbar:he["a"],VToolbarTitle:ge["a"]});var ba=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-snackbar",t._b({attrs:{timeout:t.timeout,color:t.color,elevation:"24",bottom:""},scopedSlots:t._u([{key:"action",fn:function(e){var a=e.attrs;return[n("v-btn",t._b({attrs:{text:""},on:{click:function(e){t.show=!1}}},"v-btn",a,!1),[t._v(" Close ")])]}}]),model:{value:t.show,callback:function(e){t.show=e},expression:"show"}},"v-snackbar",t.attrs,!1),[n("v-icon",[t._v(t._s(t.icon))]),n("span",[t._v(t._s(t.text))])],1)},ma=[],ha={computed:{text:function(){return D.value},color:function(){return A.value},icon:function(){return L.value},timeout:function(){return P.value},attrs:function(){return B.value},show:{get:function(){return $.value},set:function(t){return $.value=t}}}},ga=ha,ja=n("2db4"),Oa=Object(l["a"])(ga,ba,ma,!1,null,null,null),ya=Oa.exports;ce()(Oa,{VBtn:le["a"],VIcon:fe["a"],VSnackbar:ja["a"]});var _a={components:{Logo:O,Tracks:pn,Info:ca,Preferences:fa,Notify:ya},data:function(){return{links:[{name:"Learn",target:"bach-learn",href:"https://slurmulon.github.io/bach/#/guide",classes:"hidden-xs-only"},{name:"Support",target:"bach-support",href:"https://github.com/slurmulon/bach-editor/issues",classes:"hidden-xs-only"},{name:"Docs",target:"bach-learn",icon:"mdi-book-open-variant",href:"https://slurmulon.github.io/bach",classes:"hidden-sm-and-up"},{name:"Github",target:"bach-github",icon:"mdi-github",href:"https://github.com/slurmulon/bach-editor"}]}},computed:{left:{get:function(){return Kn.value},set:function(t){return Kn.value=t}},right:{get:function(){return Xn.value},set:function(t){return Xn.value=t}}}},xa=_a,ka=(n("7992"),n("7496")),wa=n("40dc"),Va=n("5bc1"),Ca=n("bb78"),Ea=n("a523"),Sa=n("f6c4"),Ta=n("f774"),Ia=Object(l["a"])(xa,f,b,!1,null,null,null),$a=Ia.exports;ce()(Ia,{VApp:ka["a"],VAppBar:wa["a"],VAppBarNavIcon:Va["a"],VAppBarTitle:Ca["a"],VBtn:le["a"],VContainer:Ea["a"],VFooter:un["a"],VIcon:fe["a"],VMain:Sa["a"],VNavigationDrawer:Ta["a"],VSpacer:be["a"]});var Da=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{ref:"editor"},[n("v-toolbar",{attrs:{flat:"",color:"transparent"}},[n("v-toolbar-title",{staticClass:"text-h4 mr-2"},[t._v(" "+t._s(t.name)+" ")]),n("dialog-rename",{staticClass:"ml-4"}),n("v-spacer"),n("v-tooltip",{attrs:{top:"","open-delay":"500"},scopedSlots:t._u([{key:"activator",fn:function(e){var a=e.on,r=e.attrs;return[n("v-btn",t._g(t._b({attrs:{icon:""},on:{click:t.copy}},"v-btn",r,!1),a),[n("v-icon",[t._v("mdi-clipboard-text-play")])],1)]}}])},[n("span",[t._v("Copy code")])]),n("v-tooltip",{attrs:{top:"","open-delay":"500"},scopedSlots:t._u([{key:"activator",fn:function(e){var a=e.on,r=e.attrs;return[n("v-btn",t._g(t._b({attrs:{icon:"",disabled:!t.dirty},on:{click:t.save}},"v-btn",r,!1),a),[n("v-icon",[t._v("mdi-content-save")])],1)]}}])},[n("span",[t._v("Save locally")])])],1),n("v-divider"),n("v-tabs",{attrs:{"background-color":"transparent"},model:{value:t.tab,callback:function(e){t.tab=e},expression:"tab"}},[n("v-tabs-slider",{attrs:{color:"primary"}}),t._l(t.items,(function(e){return n("v-tab",{key:e},[t._v(" "+t._s(e)+" ")])})),n("v-tabs-items",{staticClass:"mt-4",attrs:{"background-color":"transparent"},model:{value:t.tab,callback:function(e){t.tab=e},expression:"tab"}},t._l(t.items,(function(t){return n("v-tab-item",{key:t},[n("bach-"+t,{tag:"component",attrs:{"keep-alive":""}})],1)})),1)],2),n("dialog-warn")],1)},Aa=[],La=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{style:{filter:t.disabled?"grayscale(1)":null}},[n("prism-editor",{staticClass:"bach-editor",attrs:{highlight:t.highlighter,readonly:t.disabled,language:"bach","line-numbers":""},model:{value:t.source,callback:function(e){t.source=e},expression:"source"}})],1)},Pa=[],Ba=n("c197"),Ra=n.n(Ba),Ma=n("e57a"),Fa=n("8c7a"),Na={components:{PrismEditor:Ma["a"]},computed:{source:{get:function(){return ht.value},set:function(t){return kt(t)}},disabled:function(){return Tn.value}},methods:{highlighter:function(t){return Object(Fa["highlight"])(t,Ra.a.languages.bach,"bach")}}},za=Na,Ua=Object(l["a"])(za,La,Pa,!1,null,null,null),qa=Ua.exports,Ja=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("prism-editor",{staticClass:"bach-editor",attrs:{highlight:t.highlighter,language:"json",readonly:"","line-numbers":""},model:{value:t.json,callback:function(e){t.json=e},expression:"json"}})],1)},Ga=[],Ya={components:{PrismEditor:Ma["a"]},computed:{json:function(){return jt.value}},methods:{highlighter:function(t){return Object(Fa["highlight"])(t,Object(w["a"])(Object(w["a"])({},Fa["languages"].markup),Fa["languages"].json))}}},Wa=Ya,Ha=Object(l["a"])(Wa,Ja,Ga,!1,null,null,null),Qa=Ha.exports,Za=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-dialog",{attrs:{"max-width":"400"},scopedSlots:t._u([{key:"activator",fn:function(e){return[n("v-tooltip",{attrs:{top:"","open-delay":"500"},scopedSlots:t._u([{key:"activator",fn:function(a){return[n("div",t._g(t._b({},"div",a.attrs,!1),a.on),[n("v-btn",t._g(t._b({attrs:{icon:"",small:""}},"v-btn",e.attrs,!1),e.on),[n("v-icon",{attrs:{small:""}},[t._v("mdi-pencil-outline")])],1)],1)]}}],null,!0)},[n("span",[t._v("Rename track")])])]}}]),model:{value:t.open,callback:function(e){t.open=e},expression:"open"}},[n("v-form",{on:{submit:function(e){return e.preventDefault(),t.save(e)}}},[n("v-card",[n("v-toolbar",[n("v-toolbar-title",[t._v("Rename Track")])],1),n("v-card-text",[n("v-text-field",{staticClass:"mt-8",attrs:{label:"Name",outlined:"",counter:"",autofocus:"",maxlength:"32",required:""},model:{value:t.name,callback:function(e){t.name=e},expression:"name"}})],1),n("v-divider"),n("v-card-actions",[n("v-spacer"),n("v-btn",{attrs:{text:""},on:{click:function(e){t.open=!1}}},[t._v(" Cancel ")]),n("v-btn",{attrs:{color:"primary",text:""},on:{click:t.save}},[t._v(" Update ")])],1)],1)],1)],1)},Ka=[],Xa={data:function(){return{open:!1,inputs:{name:""}}},computed:{name:{get:function(){return this.inputs.name||Ot.value},set:function(t){this.inputs.name=t}}},methods:{save:function(){Wt({name:this.name}),this.open=!1}},watch:{open:function(t){t&&(this.name="")}}},tr=Xa,er=Object(l["a"])(tr,Za,Ka,!1,null,null,null),nr=er.exports;ce()(er,{VBtn:le["a"],VCard:ue["a"],VCardActions:se["a"],VCardText:se["c"],VDialog:ve["a"],VDivider:de["a"],VForm:pe["a"],VIcon:fe["a"],VSpacer:be["a"],VTextField:me["a"],VToolbar:he["a"],VToolbarTitle:ge["a"],VTooltip:je["a"]});var ar=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-dialog",{attrs:{"max-width":"450"},model:{value:t.show,callback:function(e){t.show=e},expression:"show"}},[n("v-card",[n("v-toolbar",[n("v-icon",{staticClass:"mr-3"},[t._v(t._s(t.icon))]),n("v-toolbar-title",[t._v("Warning")])],1),n("v-card-text",[n("div",{staticClass:"pt-7"},[t._v(" "+t._s(t.text)+" ")])]),n("v-divider"),n("v-card-actions",[t.ignorable?n("v-checkbox",{attrs:{label:"Ignore"},model:{value:t.ignore,callback:function(e){t.ignore=e},expression:"ignore"}}):t._e(),n("v-spacer"),n("v-btn",{attrs:{text:""},on:{click:t.no}},[t._v(" Cancel ")]),n("v-btn",{attrs:{text:"",color:"primary"},on:{click:t.yes}},[t._v(" Continue ")])],1)],1)],1)},rr=[],or={computed:{text:function(){return K.value},icon:function(){return X.value},ignorable:function(){return tt.value},show:{get:function(){return W.value},set:function(t){return W.value=t}},ignore:{get:function(){return nt().value},set:function(t){return rt()}}},methods:{yes:lt,no:ut}},ir=or,cr=n("ac7c"),lr=Object(l["a"])(ir,ar,rr,!1,null,null,null),ur=lr.exports;ce()(lr,{VBtn:le["a"],VCard:ue["a"],VCardActions:se["a"],VCardText:se["c"],VCheckbox:cr["a"],VDialog:ve["a"],VDivider:de["a"],VIcon:fe["a"],VSpacer:be["a"],VToolbar:he["a"],VToolbarTitle:ge["a"]});n("6cf3"),n("f393"),n("cabf"),n("92bf");var sr={components:{BachCode:qa,BachJson:Qa,DialogRename:nr,DialogWarn:ur},data:function(){return{items:["code","json"],dialog:{rename:!1}}},computed:{playing:function(){return Tn.value},dirty:function(){return bt.value},name:function(){return Ot.value},tab:{get:function(){return mt.value},set:function(t){return mt.value=t}}},methods:{save:xt,copy:wt,toggle:zn},mounted:function(){zt()},watch:{playing:function(t,e){!t&&e&&wn.value.coder&&this.$vuetify.goTo(0,{duration:750,easing:"easeOutQuad"})}}},vr=sr,dr=(n("fbee"),n("71a3")),pr=n("c671"),fr=n("fe57"),br=n("aac8"),mr=n("9a96"),hr=Object(l["a"])(vr,Da,Aa,!1,null,null,null),gr=hr.exports;ce()(hr,{VBtn:le["a"],VDivider:de["a"],VIcon:fe["a"],VSpacer:be["a"],VTab:dr["a"],VTabItem:pr["a"],VTabs:fr["a"],VTabsItems:br["a"],VTabsSlider:mr["a"],VToolbar:he["a"],VToolbarTitle:ge["a"],VTooltip:je["a"]});var jr=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-sheet",{staticClass:"player mt-3",attrs:{outlined:""}},[n("v-container",[n("v-row",{attrs:{justify:"center"}},t._l(t.sections,(function(e,a){return n("v-col",{key:a,ref:"section-"+a,refInFor:!0,attrs:{cols:t.colsOf(e),"align-self":"center"}},[n("div",{staticClass:"text-h5 text-center my-4"},[n("span",{class:t.active(a)?"white--text":"grey--text text--lighten-1"},[t._v(" "+t._s(t.durationOf(e))+" ")])]),n("v-sheet",{staticClass:"px-3 pt-3",attrs:{color:"transparent"}},[n("v-row",{staticClass:"mb-4",attrs:{justify:"center"}},t._l(e.parts,(function(r,o){return n("v-col",{key:o,attrs:{cols:"12"}},[n("v-card",{staticClass:"fill-height",style:{"background-color":"#131313",border:"1px solid rgba(255, 255, 255, 0.12)"},attrs:{outlined:"",color:t.active(a)?"grey darken-3":null,raised:t.active(a),disabled:!t.active(a)}},[n("v-row",{attrs:{"no-gutters":""}},[n("v-col",{attrs:{"align-content":"start"}},[n("v-card-title",{style:{color:t.active(a)?t.$vuetify.theme.themes.dark.primary:null,"word-break":"break-word"}},[t._v(" "+t._s(r.value)+" ")]),n("v-card-subtitle",[n("span",{staticClass:"text-capitalize"},[t._v(" "+t._s(o)+" ")])])],1),n("v-col",{attrs:{cols:t.$vuetify.breakpoint.mobile||t.colsOf(e)<6?12:null}},[e?n("v-card-text",{staticClass:"d-block"},t._l(t.notesIn(e,o),(function(e){return n("v-chip",{key:e,staticClass:"elevation-4 mr-2 my-1",attrs:{pill:"",small:""}},[t._v(" "+t._s(t._f("numberless")(e))+" ")])})),1):t._e()],1)],1)],1)],1)})),1)],1)],1)})),1)],1)],1)},Or=[],yr=12,_r={computed:{sections:function(){return Cn.value},index:function(){return yn.value},playing:function(){return Tn.value},played:function(){return kn.value},settings:function(){return wn.value},durations:function(){return new E["Durations"](gt.value)}},methods:{active:function(t){return this.playing&&this.index===t},notesIn:function(t,e){return Gn(t,e)},ratioOf:function(t){return Vn.value.ratio(t.duration)},colsOf:function(t){var e=this.durations.longest,n=this.durations.bar.pulse,a=t.duration/Math.max(n,e);return Math.floor(a*yr)},durationOf:function(t){var e=this.durations.unitize(t.duration,{as:"beat"}),n=this.durations.bar.beat,a=e<n?"beat":"bar",r=e<n?e:e/n,o=this.$options.filters.fractionize(r);return"".concat(o," ").concat(a)+(r>1?"s":"")}},watch:{played:function(t,e){if(this.settings.follow&&t&&t!==e){var n=Object(V["a"])(this.$refs["section-".concat(this.index)],1),a=n[0];this.$vuetify.goTo(a,{duration:this.durations.time.quarter,easing:"easeOutQuad"})}}}},xr=_r,kr=(n("8581"),n("cc20")),wr=Object(l["a"])(xr,jr,Or,!1,null,"40ed83b0",null),Vr=wr.exports;ce()(wr,{VCard:ue["a"],VCardSubtitle:se["b"],VCardText:se["c"],VCardTitle:se["d"],VChip:kr["a"],VCol:ln["a"],VContainer:Ea["a"],VRow:vn["a"],VSheet:qe["a"]});var Cr=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticStyle:{width:"100%"}},[n("progress-bar"),n("v-toolbar",{attrs:{flat:"",color:"transparent"}},[t.$vuetify.breakpoint.mobile?t._e():n("settings"),n("volume"),n("v-spacer"),n("metronome"),n("play")],1)],1)},Er=[],Sr=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-tooltip",{attrs:{top:"","open-delay":"500"},scopedSlots:t._u([{key:"activator",fn:function(e){var a=e.on,r=e.attrs;return[n("v-btn",t._g(t._b({attrs:{icon:"","x-large":"",color:t.playing?"primary":"secondary"},on:{click:t.click}},"v-btn",r,!1),a),[t.playing?n("v-icon",{attrs:{"x-large":""}},[t._v("mdi-stop-circle")]):n("v-icon",{attrs:{"x-large":""}},[t._v("mdi-play-circle")])],1)]}}])},[n("span",[t._v("Play/Stop")])])},Tr=[],Ir={computed:{playing:function(){return Tn.value},dirty:function(){return bt.value}},methods:{click:function(){this.dirty&&xt(),zn()}}},$r=Ir,Dr=Object(l["a"])($r,Sr,Tr,!1,null,null,null),Ar=Dr.exports;ce()(Dr,{VBtn:le["a"],VIcon:fe["a"],VTooltip:je["a"]});var Lr=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-col",{staticStyle:{"max-width":"250px"},attrs:{cols:"6"}},[n("v-slider",{attrs:{min:t.limit.min,max:t.limit.max,"prepend-icon":t.muted?"mdi-volume-off":"mdi-volume-high",color:"white","hide-details":""},on:{"click:prepend":t.toggle},model:{value:t.volume,callback:function(e){t.volume=e},expression:"volume"}})],1)},Pr=[],Br={computed:{volume:{get:function(t){var e=t.muted;return e?Zn.min:wn.value.volume},set:function(t){return Un(t)}},muted:{get:function(){return wn.value.muted},set:function(t){return Jn(t)}},limit:function(){return Zn}},methods:{toggle:function(){Jn(!this.muted)}}},Rr=Br,Mr=n("ba0d"),Fr=Object(l["a"])(Rr,Lr,Pr,!1,null,null,null),Nr=Fr.exports;ce()(Fr,{VCol:ln["a"],VSlider:Mr["a"]});var zr=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-col",{attrs:{cols:"5",sm:"3"}},[n("v-row",{attrs:{nowrap:"","no-gutters":""}},t._l(t.beats,(function(e){return n("v-col",{key:e},[n("v-icon",{attrs:{color:t.color(e)}},[t._v(" mdi-circle-small ")])],1)})),1)],1)},Ur=[],qr={computed:{playing:function(){return Tn.value},current:function(){return _n.value},beats:function(){return Sn.value["beat-units-per-measure"]}},methods:{color:function(t){return this.playing?null!=this.current&&t-1<=this.current?"primary":void 0:"grey darken-3"}}},Jr=qr,Gr=Object(l["a"])(Jr,zr,Ur,!1,null,null,null),Yr=Gr.exports;ce()(Gr,{VCol:ln["a"],VIcon:fe["a"],VRow:vn["a"]});var Wr=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-btn-toggle",{attrs:{value:t.toggles,dense:"",group:"",shaped:"",multiple:""}},t._l(t.items,(function(e){return n("v-tooltip",{key:e.key,attrs:{top:"","open-delay":"250"},scopedSlots:t._u([{key:"activator",fn:function(a){var r=a.on,o=a.attrs;return[n("v-btn",t._g(t._b({attrs:{icon:""},on:{click:function(n){return n.stopPropagation(),t.toggle(e.key)}}},"v-btn",o,!1),r),[n("v-icon",[t._v(t._s(e.icon))])],1)]}}],null,!0)},[n("span",[t._v(t._s(e.tip))])])})),1)},Hr=[],Qr={computed:{all:function(){return[wn.value.loop,wn.value.follow,wn.value.coder]},toggles:function(t){var e=t.all;return e.map((function(t,e){return t?e:null}))},loop:{get:function(){return wn.value.loop},set:function(t){return qn(t)}},follow:{get:function(){return wn.value.follow},set:function(t){return $n({follow:t})}},coder:{get:function(){return wn.value.coder},set:function(t){return $n({coder:t})}},items:function(){return[{key:"loop",icon:"mdi-sync",tip:"Loop"},{key:"follow",icon:"mdi-eye-settings",tip:"Scroll with music"},{key:"coder",icon:"mdi-code-braces",tip:"Scroll to code on stop"}]}},methods:{toggle:function(t){this[t]=!this[t]}}},Zr=Qr,Kr=n("a609"),Xr=Object(l["a"])(Zr,Wr,Hr,!1,null,null,null),to=Xr.exports;ce()(Xr,{VBtn:le["a"],VBtnToggle:Kr["a"],VIcon:fe["a"],VTooltip:je["a"]});var eo=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-fade-transition",[n("div",{directives:[{name:"show",rawName:"v-show",value:t.playing,expression:"playing"}],staticClass:"player-progress"},[n("div",{staticClass:"player-progress__value",style:{width:t.progress+"%"}})])])},no=[],ao={computed:{playing:function(){return Tn.value},progress:function(){return xn.value}}},ro=ao,oo=(n("8b0b"),n("0789")),io=Object(l["a"])(ro,eo,no,!1,null,"fa619a02",null),co=io.exports;ce()(io,{VFadeTransition:oo["d"]});var lo={computed:{playing:function(){return Tn.value},dirty:function(){return bt.value}},methods:{toggle:zn},components:{Play:Ar,Volume:Nr,Metronome:Yr,Settings:to,ProgressBar:co}},uo=lo,so=Object(l["a"])(uo,Cr,Er,!1,null,null,null),vo=so.exports;ce()(so,{VSpacer:be["a"],VToolbar:he["a"]});var po={name:"Home",components:{Layout:$a,Editor:gr,Player:Vr,Controls:vo}},fo=po,bo=Object(l["a"])(fo,d,p,!1,null,null,null),mo=bo.exports;a["default"].use(v["a"]);var ho=[{path:"/",name:"Home",component:mo}],go=new v["a"]({routes:ho}),jo=go,Oo=n("f309");a["default"].use(Oo["a"]);var yo=new Oo["a"]({theme:{dark:!0,themes:{dark:{primary:"#FA9F6D",secondary:"#7C9EC3",accent:"#FFD89A",error:"#E57373"}}}}),_o=(n("4d63"),n("25f0"),new RegExp(/[a-zA-Z_]+[a-zA-Z0-9_-]*/),new RegExp(/[0-9]\d*(\.\d+)?/));Ra.a.languages.bach={header:{pattern:/@\w+/,lookbehind:!0,alias:"keyword"},constant:{pattern:/(^|[^:]):\w+/,lookbehind:!0,alias:"variable"},attribute:{pattern:/\w+(^|[^:]):/,lookbehind:!0},string:{pattern:/("|')(?:\\.|(?!\1)[^\\\r\n])*\1/i,greedy:!0},number:_o,play:{pattern:/!Play/i,lookahead:!0},boolean:/\b(?:true|false)\b/,operator:/[-+%=]|\/|\*|\||!|[->]/,punctuation:{pattern:/[{}[\](),.:]/,greedy:!1}};n("b680");var xo=n("5a0c"),ko=n.n(xo),wo=n("4208"),Vo=n.n(wo),Co=n("6612"),Eo=n.n(Co),So=n("d61e"),To=n.n(So);ko.a.extend(Vo.a);var Io=function(t){return t?t.replace(/[0-9]+$/,""):t},$o=function(t){return t?new To.a(t).toFraction(!0).replace(/\s/," + "):t},Do=function(t){return t?Array.isArray(t)?"".concat(t[0]," | ").concat(t[1]):"-":t},Ao=function(t){return isNaN(t)?t:t.toFixed(2)},Lo=function(t){return t?ko()(t).fromNow():t},Po=function(t){return Eo()(t).format("0,0[.][000]")};a["default"].filter("numberless",Io),a["default"].filter("fractionize",$o),a["default"].filter("meter",Do),a["default"].filter("round",Ao),a["default"].filter("numeric",Po),a["default"].filter("when",Lo),a["default"].use(S["d"]),a["default"].config.productionTip=!1,new a["default"]({router:jo,vuetify:yo,render:function(t){return t(s)}}).$mount("#app")},"5c0b":function(t,e,n){"use strict";n("9c0c")},7538:function(t,e,n){},7992:function(t,e,n){"use strict";n("d0c5")},8581:function(t,e,n){"use strict";n("95e3")},"8b0b":function(t,e,n){"use strict";n("2a00")},"8df5":function(t,e,n){"use strict";n("241d")},9224:function(t){t.exports=JSON.parse('{"name":"bach-editor","version":"0.5.0","private":true,"scripts":{"serve":"vue-cli-service serve","build":"vue-cli-service build","test:unit":"vue-cli-service test:unit","serve:audio":"npx http-server -p 8086 --cors ./public/audio/piano/","lint":"vue-cli-service lint"},"dependencies":{"@tonaljs/tonal":"^4.6.0","@vueuse/core":"^4.1.0","bach-js":"github:slurmulon/bach-js#v2.5.0","core-js":"^3.6.5","dayjs":"^1.10.4","fraction.js":"^4.0.13","gig":"github:slurmulon/gig#v1.4.0","nanoid":"^3.1.20","numeral":"^2.0.6","prism-themes":"^1.5.0","prismjs":"^1.23.0","tone":"^14.7.77","vue":"^2.6.11","vue-prism-editor":"^1.2.2","vue-router":"^3.2.0","vuetify":"^2.4.0","vuex":"^3.4.0"},"devDependencies":{"@vue/cli-plugin-babel":"~4.5.0","@vue/cli-plugin-eslint":"~4.5.0","@vue/cli-plugin-router":"~4.5.0","@vue/cli-plugin-unit-jest":"~4.5.0","@vue/cli-plugin-vuex":"~4.5.0","@vue/cli-service":"~4.5.0","@vue/composition-api":"^1.0.0-rc.1","@vue/eslint-config-standard":"^5.1.2","@vue/test-utils":"^1.0.3","babel-eslint":"^10.1.0","eslint":"^6.7.2","eslint-plugin-import":"^2.20.2","eslint-plugin-node":"^11.1.0","eslint-plugin-promise":"^4.2.1","eslint-plugin-standard":"^4.0.0","eslint-plugin-vue":"^6.2.2","http-server":"^0.12.3","node-sass":"^4.12.0","raw-loader":"^4.0.2","sass":"^1.32.0","sass-loader":"^10.0.0","vue-cli-plugin-vuetify":"~2.1.0","vue-template-compiler":"^2.6.11","vuetify-loader":"^1.7.0"}}')},"95e3":function(t,e,n){},"9c0c":function(t,e,n){},d0c5:function(t,e,n){},fbee:function(t,e,n){"use strict";n("7538")}});
//# sourceMappingURL=app.7ea5dd75.js.map